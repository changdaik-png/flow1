<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLOW Video Director</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            /* slate-900 */
        }

        /* Custom scrollbar for a premium feel */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0f172a;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- Icon Components (Replaces lucide-react for standalone usage) ---
        const IconBase = ({ size = 24, className, children, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>{children}</svg>
        );

        const Video = (props) => <IconBase {...props}><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></IconBase>;
        const Film = (props) => <IconBase {...props}><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line></IconBase>;
        const MessageSquare = (props) => <IconBase {...props}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></IconBase>;
        const Languages = (props) => <IconBase {...props}><path d="m5 8 6 6"></path><path d="m4 14 6-6 2-3"></path><path d="M2 5h12"></path><path d="M7 2h1"></path><path d="m22 22-5-10-5 10"></path><path d="M14 18h6"></path></IconBase>;
        const Loader2 = (props) => <IconBase {...props}><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></IconBase>;
        const Palette = (props) => <IconBase {...props}><circle cx="13.5" cy="6.5" r=".5"></circle><circle cx="17.5" cy="10.5" r=".5"></circle><circle cx="8.5" cy="7.5" r=".5"></circle><circle cx="6.5" cy="12.5" r=".5"></circle><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.01 17.461 2 12 2z"></path></IconBase>;
        const Aperture = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line></IconBase>;
        const Wand2 = (props) => <IconBase {...props}><path d="m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z"></path><path d="m14 7 3 3"></path><path d="M5 6v4"></path><path d="M19 14v4"></path><path d="M10 2v2"></path><path d="M7 8H3"></path><path d="M21 16h-4"></path><path d="M11 3H9"></path></IconBase>;
        const Dice5 = (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"></rect><path d="M16 8h.01"></path><path d="M8 8h.01"></path><path d="M8 16h.01"></path><path d="M16 16h.01"></path><path d="M12 12h.01"></path></IconBase>;
        const RefreshCw = (props) => <IconBase {...props}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></IconBase>;
        const Copy = (props) => <IconBase {...props}><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></IconBase>;
        const Check = (props) => <IconBase {...props}><polyline points="20 6 9 17 4 12"></polyline></IconBase>;
        // -------------------------------------------------------------------

        const FlowPromptGen = () => {
            // ìƒíƒœ ê´€ë¦¬
            const [subject, setSubject] = useState('');
            const [action, setAction] = useState('');
            const [environment, setEnvironment] = useState('');
            const [dialogue, setDialogue] = useState('');
            const [aspectRatio, setAspectRatio] = useState('--ar 16:9');
            const [stylePreset, setStylePreset] = useState('cinematic');

            const [generatedPrompt, setGeneratedPrompt] = useState('');
            const [copied, setCopied] = useState(false);

            // ë²ˆì—­ ë¡œë”© ìƒíƒœ (ê° í•„ë“œë³„)
            const [translatingField, setTranslatingField] = useState(null);

            // ëŸ°íƒ€ì„ ì…ë ¥ API í‚¤ ìƒíƒœ
            const [userApiKey, setUserApiKey] = useState('');

            // Gemini API í‚¤ (ì½”ë“œì— ì§ì ‘ ì…ë ¥í•˜ê±°ë‚˜ ì‹¤í–‰ ì‹œ ì…ë ¥)
            const defaultApiKey = "";

            // ë²ˆì—­ í•¨ìˆ˜ (Gemini API ì‚¬ìš©)
            const translateToEnglish = async (text, fieldName, setter) => {
                if (!text.trim()) return;

                // API í‚¤ í™•ì¸ ë° ìš”ì²­
                let keyToUse = defaultApiKey || userApiKey;

                if (!keyToUse) {
                    const inputKey = window.prompt("Gemini API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\n(ë°œê¸‰ë°›ì€ í‚¤ê°€ ì—†ë‹¤ë©´ Google AI Studioì—ì„œ ë°œê¸‰ í•„ìš”)");
                    if (inputKey && inputKey.trim()) {
                        setUserApiKey(inputKey.trim());
                        keyToUse = inputKey.trim();
                    } else {
                        alert("API í‚¤ê°€ ì…ë ¥ë˜ì§€ ì•Šì•„ ë²ˆì—­ì„ ì§„í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                        return;
                    }
                }

                setTranslatingField(fieldName);

                try {
                    const response = await fetch(
                        `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${keyToUse}`,
                        {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                contents: [{
                                    parts: [{
                                        text: `Translate the following text into natural, descriptive English suitable for a video generation prompt. Only output the translated English text, no explanations.\n\nText: "${text}"`
                                    }]
                                }]
                            })
                        }
                    );

                    const data = await response.json();

                    if (data.error) {
                        throw new Error(data.error.message || "API Error");
                    }

                    if (data.candidates && data.candidates[0].content) {
                        const translatedText = data.candidates[0].content.parts[0].text.trim();
                        setter(translatedText);
                    } else {
                        console.error("Translation API response error", data);
                        alert("ë²ˆì—­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì‘ë‹µ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                    }
                } catch (error) {
                    console.error("Translation error:", error);
                    alert(`ë²ˆì—­ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`);
                    // í‚¤ê°€ ì˜ëª»ë˜ì—ˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì´ˆê¸°í™” (ì„ íƒ ì‚¬í•­)
                    if (error.message.includes("API key") || error.message.includes("403") || error.message.includes("400")) {
                        setUserApiKey('');
                    }
                } finally {
                    setTranslatingField(null);
                }
            };

            // ìŠ¤íƒ€ì¼ í”„ë¦¬ì…‹ ì •ì˜
            const styles = {
                cinematic: "cinematic lighting, 8k, highly detailed, photorealistic, shallow depth of field, bokeh, movie scene, color graded",
                anime: "anime style, vibrant colors, studio ghibli style, 2D animation, cel shading, detailed lines, 4k",
                documentary: "raw footage, national geographic style, natural lighting, sharp focus, 4k, ultra realistic, gopro angle",
                cyberpunk: "neon lights, futuristic, cyberpunk aesthetic, volumetric lighting, night city vibe, glowing, high contrast, 8k",
                fantasy: "ethereal lighting, dreamlike, soft focus, magical atmosphere, detailed textures, oil painting style, 8k"
            };

            // ëœë¤ ë°ì´í„° ì†ŒìŠ¤
            const randomData = {
                subjects: [
                    "A futuristic female cyborg with glowing blue eyes",
                    "A cute fluffy cat wearing steampunk goggles",
                    "A mysterious wizard holding a crystal staff",
                    "A professional astronaut in a white spacesuit",
                    "A samurai warrior with silver hair",
                    "A cyberpunk detective in a trench coat",
                    "A golden retriever puppy playing with a ball"
                ],
                actions: [
                    "looking at the horizon",
                    "walking confidently through the crowd",
                    "drinking coffee in a cafe",
                    "fighting with a laser sword",
                    "examining a glowing artifact",
                    "running fast from an explosion",
                    "smiling gently at the camera"
                ],
                environments: [
                    "neon city street at rainy night",
                    "sunny tropical beach with palm trees",
                    "inside a high-tech spaceship cockpit",
                    "ancient library filled with dusty books",
                    "snowy mountain peak at sunset",
                    "mystical forest with glowing plants",
                    "busy cyberpunk market"
                ],
                dialogues: [
                    "I can't believe this is actually happening.",
                    "We need to go, right now!",
                    "Look at that view... it's beautiful.",
                    "Mission accomplished. Returning to base.",
                    "Hello? Is anyone there?",
                    "ì´ê²Œ ì •ë§ ê°€ëŠ¥í•œ ì¼ì¸ê°€ìš”?", // í•œêµ­ì–´ ì˜ˆì‹œ
                    "ë¹¨ë¦¬ ë„ë§ì³ì•¼ í•´!",
                    "",
                    ""
                ]
            };

            // ëœë¤ ì±„ìš°ê¸° í•¨ìˆ˜
            const handleRandom = () => {
                const rSubject = randomData.subjects[Math.floor(Math.random() * randomData.subjects.length)];
                const rAction = randomData.actions[Math.floor(Math.random() * randomData.actions.length)];
                const rEnvironment = randomData.environments[Math.floor(Math.random() * randomData.environments.length)];
                const rDialogue = randomData.dialogues[Math.floor(Math.random() * randomData.dialogues.length)];

                const styleKeys = Object.keys(styles);
                const rStyle = styleKeys[Math.floor(Math.random() * styleKeys.length)];

                setSubject(rSubject);
                setAction(rAction);
                setEnvironment(rEnvironment);
                setDialogue(rDialogue);
                setStylePreset(rStyle);
                setGeneratedPrompt('');
            };

            // í•œê¸€ ê°ì§€ í—¬í¼ í•¨ìˆ˜
            const hasKorean = (text) => /[ã„±-ã…|ã…-ã…£|ê°€-í£]/.test(text);

            // í”„ë¡¬í”„íŠ¸ ìƒì„± ë¡œì§
            const generatePrompt = () => {
                // 1. ê¸°ë³¸ ìš”ì†Œ ê²°í•©
                let promptParts = [];

                // ì£¼ì²´ (Subject)
                if (subject) promptParts.push(subject);

                // í–‰ë™ (Action) & ëŒ€ì‚¬ ì²˜ë¦¬ ë¡œì§
                let actionPart = action;

                if (dialogue.trim().length > 0) {
                    // ëŒ€ì‚¬ ì–¸ì–´ ê°ì§€
                    const isKoreanDialogue = hasKorean(dialogue);
                    const languageTag = isKoreanDialogue ? "speaking Korean" : "speaking English";

                    // ëŒ€ì‚¬ê°€ ìˆìœ¼ë©´ ì¹´ë©”ë¼ ì‘ì‹œ, ë§í•˜ê¸°, ì–¸ì–´ íƒœê·¸ ì¶”ê°€
                    const speechTags = `looking directly at camera, speaking naturally, ${languageTag}, moving mouth, expressive facial emotion, talking head`;
                    actionPart = actionPart ? `${actionPart}, ${speechTags}` : speechTags;
                }

                if (actionPart) promptParts.push(actionPart);

                // í™˜ê²½ (Environment)
                if (environment) promptParts.push(environment);

                // ëŒ€ì‚¬ í…ìŠ¤íŠ¸ ì¶”ê°€
                if (dialogue.trim().length > 0) {
                    promptParts.push(`Dialogue: "${dialogue}"`);
                }

                // ìŠ¤íƒ€ì¼ ë° í’ˆì§ˆ íƒœê·¸
                promptParts.push(styles[stylePreset]);

                // ìµœì¢… ì¡°ë¦½
                let finalString = promptParts.join(', ');

                // ë¹„ìœ¨ ì¶”ê°€
                finalString += ` ${aspectRatio}`;

                setGeneratedPrompt(finalString);
            };

            // ë³µì‚¬ ê¸°ëŠ¥ (Fallback)
            const handleCopy = () => {
                if (!generatedPrompt) return;

                try {
                    const textArea = document.createElement("textarea");
                    textArea.value = generatedPrompt;
                    textArea.style.position = "fixed";
                    textArea.style.left = "-9999px";
                    textArea.style.top = "0";
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    const successful = document.execCommand('copy');
                    document.body.removeChild(textArea);

                    if (successful) {
                        setCopied(true);
                        setTimeout(() => setCopied(false), 2000);
                    }
                } catch (err) {
                    console.error("Copy failed: ", err);
                }
            };

            // ì…ë ¥ê°’ ì´ˆê¸°í™”
            const handleReset = () => {
                setSubject('');
                setAction('');
                setEnvironment('');
                setDialogue('');
                setGeneratedPrompt('');
            };

            return (
                <div className="min-h-screen bg-slate-900 text-slate-100 font-sans selection:bg-indigo-500 selection:text-white">
                    <div className="max-w-4xl mx-auto p-6">

                        {/* Header */}
                        <header className="mb-10 text-center border-b border-slate-700 pb-8">
                            <div className="flex items-center justify-center gap-3 mb-2">
                                <Video className="w-10 h-10 text-indigo-400" />
                                <h1 className="text-4xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-400">
                                    FLOW Video Director
                                </h1>
                            </div>
                            <p className="text-slate-400 text-sm">
                                ìµœê³  í’ˆì§ˆì˜ AI ë¹„ë””ì˜¤ë¥¼ ìœ„í•œ í™©ê¸ˆë¹„ìœ¨ í”„ë¡¬í”„íŠ¸ ìƒì„±ê¸° (í•œ/ì˜ ìë™ ë²ˆì—­ ì§€ì›)
                            </p>
                        </header>

                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">

                            {/* Left Column: Input Form */}
                            <div className="space-y-6 bg-slate-800 p-6 rounded-2xl shadow-xl border border-slate-700/50">
                                <h2 className="text-xl font-semibold flex items-center gap-2 text-indigo-300">
                                    <Film className="w-5 h-5" /> ì¥ë©´ ì„¤ê³„ (Input)
                                </h2>

                                {/* Subject Input with Translation */}
                                <div>
                                    <label className="block text-sm font-medium text-slate-400 mb-1">
                                        1. ì£¼ì²´ (ëˆ„ê°€/ë¬´ì—‡ì´?)
                                    </label>
                                    <div className="flex gap-2">
                                        <input type="text" value={subject} onChange={(e) => setSubject(e.target.value)}
                                            placeholder="ì˜ˆ: ë¹›ë‚˜ëŠ” ëˆˆì„ ê°€ì§„ ì‚¬ì´ë³´ê·¸ ì—¬ì„±"
                                            className="flex-1 bg-slate-900 border border-slate-700 rounded-lg p-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition"
                                        />
                                        <button onClick={() => translateToEnglish(subject, 'subject', setSubject)}
                                            disabled={translatingField === 'subject' || !subject}
                                            className="px-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-slate-300 transition disabled:opacity-50"
                                            title="ì˜ì–´ë¡œ ë²ˆì—­"
                                        >
                                            {translatingField === 'subject' ?
                                                <Loader2 className="w-4 h-4 animate-spin" /> :
                                                <Languages className="w-4 h-4" />}
                                        </button>
                                    </div>
                                </div>

                                {/* Action Input with Translation */}
                                <div>
                                    <label className="block text-sm font-medium text-slate-400 mb-1">
                                        2. í–‰ë™ (ë¬´ì—‡ì„ í•˜ëŠ”ê°€?)
                                    </label>
                                    <div className="flex gap-2">
                                        <input type="text" value={action} onChange={(e) => setAction(e.target.value)}
                                            placeholder="ì˜ˆ: ë¹—ì†ì„ ê±¸ì–´ê°€ê³  ìˆë‹¤"
                                            className="flex-1 bg-slate-900 border border-slate-700 rounded-lg p-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition"
                                        />
                                        <button onClick={() => translateToEnglish(action, 'action', setAction)}
                                            disabled={translatingField === 'action' || !action}
                                            className="px-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-slate-300 transition disabled:opacity-50"
                                            title="ì˜ì–´ë¡œ ë²ˆì—­"
                                        >
                                            {translatingField === 'action' ?
                                                <Loader2 className="w-4 h-4 animate-spin" /> :
                                                <Languages className="w-4 h-4" />}
                                        </button>
                                    </div>
                                </div>

                                {/* Dialogue Input */}
                                <div className="bg-indigo-900/20 p-4 rounded-xl border border-indigo-500/30">
                                    <label className="block text-sm font-medium text-indigo-300 mb-1 flex items-center gap-2">
                                        <MessageSquare className="w-4 h-4" /> 3. ëŒ€ì‚¬ (ì˜µì…˜)
                                    </label>
                                    <input type="text" value={dialogue} onChange={(e) => setDialogue(e.target.value)}
                                        placeholder="í•œêµ­ì–´/ì˜ì–´ ëŒ€ì‚¬ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì–¸ì–´ ìë™ ê°ì§€)"
                                        className="w-full bg-slate-900 border border-indigo-500/50 rounded-lg p-3 text-sm focus:ring-2 focus:ring-indigo-500 outline-none transition text-indigo-100 placeholder-indigo-300/30"
                                    />
                                    {dialogue && (
                                        <p className="text-xs text-indigo-400 mt-2 flex items-center gap-1">
                                            <Check className="w-3 h-3" />
                                            {hasKorean(dialogue) ? "í•œêµ­ì–´ ëŒ€ì‚¬ ê°ì§€ë¨ (speaking Korean ì ìš©)" : "ì˜ì–´/ê¸°íƒ€ ëŒ€ì‚¬ ê°ì§€ë¨ (speaking English ì ìš©)"}
                                        </p>
                                    )}
                                </div>

                                {/* Environment Input with Translation */}
                                <div>
                                    <label className="block text-sm font-medium text-slate-400 mb-1">
                                        4. ë°°ê²½ ë° í™˜ê²½
                                    </label>
                                    <div className="flex gap-2">
                                        <input type="text" value={environment} onChange={(e) => setEnvironment(e.target.value)}
                                            placeholder="ì˜ˆ: ë„¤ì˜¨ ì‚¬ì¸ì´ ë¹›ë‚˜ëŠ” ë„ì‹œì˜ ë°¤ê±°ë¦¬"
                                            className="flex-1 bg-slate-900 border border-slate-700 rounded-lg p-3 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition"
                                        />
                                        <button onClick={() => translateToEnglish(environment, 'environment', setEnvironment)}
                                            disabled={translatingField === 'environment' || !environment}
                                            className="px-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-slate-300 transition disabled:opacity-50"
                                            title="ì˜ì–´ë¡œ ë²ˆì—­"
                                        >
                                            {translatingField === 'environment' ?
                                                <Loader2 className="w-4 h-4 animate-spin" /> :
                                                <Languages className="w-4 h-4" />}
                                        </button>
                                    </div>
                                </div>

                                {/* Options */}
                                <div className="grid grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium text-slate-400 mb-1 flex items-center gap-1">
                                            <Palette className="w-4 h-4" /> ìŠ¤íƒ€ì¼
                                        </label>
                                        <select value={stylePreset} onChange={(e) => setStylePreset(e.target.value)}
                                            className="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"
                                        >
                                            <option value="cinematic">ğŸ¬ ì˜í™” (Cinematic)</option>
                                            <option value="anime">ğŸ¨ ì• ë‹ˆë©”ì´ì…˜ (Anime)</option>
                                            <option value="documentary">ğŸ“· ë‹¤íë©˜í„°ë¦¬ (Realistic)</option>
                                            <option value="cyberpunk">ğŸŒƒ ì‚¬ì´ë²„í‘í¬ (Cyberpunk)</option>
                                            <option value="fantasy">ğŸ§š íŒíƒ€ì§€ (Fantasy)</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-slate-400 mb-1 flex items-center gap-1">
                                            <Aperture className="w-4 h-4" /> í™”ë©´ ë¹„ìœ¨
                                        </label>
                                        <select value={aspectRatio} onChange={(e) => setAspectRatio(e.target.value)}
                                            className="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"
                                        >
                                            <option value="--ar 16:9">ì™€ì´ë“œ (16:9)</option>
                                            <option value="--ar 9:16">ìˆí¼/ë¦´ìŠ¤ (9:16)</option>
                                            <option value="--ar 1:1">ì •ë°©í˜• (1:1)</option>
                                            <option value="--ar 2.35:1">ì‹œë„¤ë§ˆìŠ¤ì½”í”„ (2.35:1)</option>
                                        </select>
                                    </div>
                                </div>

                                {/* Buttons */}
                                <div className="flex gap-3 pt-4">
                                    <button onClick={generatePrompt}
                                        className="flex-1 bg-gradient-to-r from-indigo-600 to-cyan-600 hover:from-indigo-500 hover:to-cyan-500 text-white font-bold py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition shadow-lg shadow-indigo-500/20 active:scale-95">
                                        <Wand2 className="w-5 h-5" /> í”„ë¡¬í”„íŠ¸ ìƒì„±
                                    </button>

                                    <button onClick={handleRandom}
                                        className="px-4 py-3 bg-violet-700 hover:bg-violet-600 rounded-xl text-white transition shadow-lg shadow-violet-500/20 active:scale-95"
                                        title="ëœë¤ ìë™ ì™„ì„±">
                                        <Dice5 className="w-5 h-5" />
                                    </button>

                                    <button onClick={handleReset}
                                        className="px-4 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl text-slate-300 transition"
                                        title="ì´ˆê¸°í™”">
                                        <RefreshCw className="w-5 h-5" />
                                    </button>
                                </div>
                            </div>

                            {/* Right Column: Output */}
                            <div className="space-y-6">

                                {/* Prompt Output */}
                                <div className="bg-slate-800 p-6 rounded-2xl shadow-xl border border-slate-700/50 h-full flex flex-col">
                                    <h2 className="text-xl font-semibold flex items-center gap-2 text-emerald-400 mb-4">
                                        <Video className="w-5 h-5" /> ê²°ê³¼ (Result)
                                    </h2>

                                    <div className="flex-1 bg-slate-950 rounded-xl p-4 border border-slate-700 relative group overflow-hidden">
                                        {generatedPrompt ? (
                                            <p className="text-slate-300 leading-relaxed break-words text-sm font-mono">
                                                {generatedPrompt}
                                            </p>
                                        ) : (
                                            <div className="h-full flex flex-col items-center justify-center text-slate-600 gap-3">
                                                <Wand2 className="w-10 h-10 opacity-20" />
                                                <p>ì™¼ìª½ì—ì„œ í•œêµ­ì–´ë¡œ ì…ë ¥í•˜ê³ , ë²ˆì—­ ë²„íŠ¼(ğŸŒ)ì„ í™œìš©í•´ë³´ì„¸ìš”.</p>
                                            </div>
                                        )}
                                    </div>

                                    {/* Actions */}
                                    <div className="mt-4 flex flex-col gap-3">
                                        <button onClick={handleCopy} disabled={!generatedPrompt} className={`w-full py-3 rounded-xl font-semibold flex items-center justify-center gap-2 transition ${copied ? 'bg-emerald-600 text-white' : 'bg-slate-700 hover:bg-slate-600 text-slate-200 disabled:opacity-50 disabled:cursor-not-allowed'}`}>
                                            {copied ? (
                                                <>
                                                    <Check className="w-5 h-5" /> ë³µì‚¬ ì™„ë£Œ!
                                                </>
                                            ) : (
                                                <>
                                                    <Copy className="w-5 h-5" /> í”„ë¡¬í”„íŠ¸ ë³µì‚¬
                                                </>
                                            )}
                                        </button>
                                    </div>

                                    {/* Dialogue Box (Reference) */}
                                    {dialogue && (
                                        <div className="mt-6 border-t border-slate-700 pt-6">
                                            <h3 className="text-sm font-semibold text-slate-400 mb-2">ì°¸ê³ ìš© ëŒ€ì‚¬ ìŠ¤í¬ë¦½íŠ¸</h3>
                                            <div className="bg-slate-900 p-3 rounded-lg border-l-4 border-indigo-500">
                                                <p className="text-indigo-100 italic">"{dialogue}"</p>
                                            </div>
                                            <p className="text-xs text-slate-500 mt-2">
                                                * ìœ„ í”„ë¡¬í”„íŠ¸ë¡œ ì˜ìƒ ìƒì„± í›„, ì´ ëŒ€ì‚¬ë¥¼ TTS(ìŒì„±) íˆ´ì— ì…ë ¥í•˜ì„¸ìš”.
                                            </p>
                                        </div>
                                    )}

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<FlowPromptGen />);
    </script>
</body>

</html>